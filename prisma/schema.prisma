// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["extendedWhereUnique"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id       Int     @id @default(autoincrement())
  name     String
  username String
  password String
  basket   basket?
  role     String  @default("user")
}

model basket {
  id     Int    @id @default(autoincrement())
  name   String
  user   user?  @relation(fields: [userId], references: [id])
  userId Int?   @unique
}

model user_info {
  id           Int     @id @default(autoincrement())
  name         String  
  surname      String  
  phone        String  
  viloyat      String  
  tuman        String  
  shahar       String  
  aniq_adress  String  
  umumiybahosi Decimal
  product_id   Int[]   
}

model categories {
  id    Int     @id @default(autoincrement())
  name  String
  types types[]
}

model types {
  id           Int         @id @default(autoincrement())
  name         String
  img          String
  products     products[]
  categories   categories? @relation(fields: [categoriesId], references: [id])
  categoriesId Int?
}

model products {
  id      Int     @id @default(autoincrement())
  name    String
  img     String
  price   Decimal
  desc    String
  types   types?  @relation(fields: [typesId], references: [id])
  typesId Int?
}

enum role {
  user
  admin
}
